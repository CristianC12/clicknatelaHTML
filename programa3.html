<canvas width="600"  height="400"></canvas>
<h1>selecione a cor</h1> <input type="color">

<script>
    var paleta = document.querySelector("input");
    var tela = document.querySelector("canvas");
    var pincel = tela.getContext("2d");

    pincel.fillStyle = "grey";
    pincel.fillRect(0, 0, 600, 400);


    var clicar = false
function desenha(evento){

    
    
    if (clicar){
    var x = evento.pageX - tela.offsetLeft;
    var y = evento.pageY - tela.offsetTop;
    pincel.fillStyle = paleta.value;
    pincel.beginPath();
    pincel.arc(x,y, 6, 0, 2 * 3.14);
    pincel.fill();
}}



tela.onmousemove = desenha;

function habilitaDesenhar() {

    clicar = true;
}

function desabilitaDesenhar() {

    clicar = false;
}

tela.onmousedown = habilitaDesenhar;

tela.onmouseup = desabilitaDesenhar;
</script>